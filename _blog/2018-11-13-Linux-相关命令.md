---
layout: article
title: Linux 相关命令
tags: [OS]
key: cf05b731-e87e-48e2-833c-fd74218e25dd
---

学习工作中常用的 `Linux`命令.

<!-- more -->

[TOC]

## 常用技巧

```bash
# 查看系统版本
## centos
yum install lsb –y
lsb_release -a
cat /etc/redhat-release
rpm -qcentos-release

# 查找指定文件并删除
find . -name "*.o"  | xargs rm -f
# 查找指定文件并删除(文件名有空格时)
find ./ -name '*.bak' -print0 | xargs -0 rm -rf

# 统计当前文件夹下文件的个数，包括子文件夹里的
ls -lR|grep "^-"|wc -l
# 统计文件夹下目录的个数，包括子文件夹里的
ls -lR|grep "^d"|wc -l
# 统计当前文件夹下文件的个数
ls -l |grep "^-"|wc -l
# 统计当前文件夹下目录的个数
ls -l |grep "^d"|wc -l

# 统计文件中出现指定单词的行数
grep cout hello.cpp | wc -l
# 统计文件中单词的个数
grep -o cout hello.cpp | wc -l
```



## 系统相关

### 

## 文件管理

### `find`命令

含义: 在指定目录下查找文件

格式: `find [选项] 参数`

选项:

```bash
-amin<分钟>: 查找在指定时间曾被存取过的文件或目录，单位以分钟计算；
--anewer<参考文件或目录>: 查找其存取时间较指定文件或目录的存取时间更接近现在的文件或目录；
-atime<24小时数>: 查找在指定时间曾被存取过的文件或目录，单位以24小时计算；
-cmin<分钟>: 查找在指定时间之时被更改过的文件或目录；
-cnewer<参考文件或目录>查找其更改时间较指定文件或目录的更改时间更接近现在的文件或目录；
-ctime<24小时数>: 查找在指定时间之时被更改的文件或目录，单位以24小时计算；
-daystart: 从本日开始计算时间；
-depth: 从指定目录下最深层的子目录开始查找；
-empty: 寻找文件大小为0 Byte的文件，或目录下没有任何子目录或文件的空目录；
-exec<执行指令>: 假设find指令的回传值为True，就执行该指令；
-false: 将find指令的回传值皆设为False；
-fls<列表文件>: 此参数的效果和指定“-ls”参数类似，但会把结果保存为指定的列表文件；
-follow: 排除符号连接；
-fprint<列表文件>: 此参数的效果和指定“-print”参数类似，但会把结果保存成指定的列表文件；
-fprint0<列表文件>: 此参数的效果和指定“-print0”参数类似，但会把结果保存成指定的列表文件；
-fprintf<列表文件><输出格式>: 此参数的效果和指定“-printf”参数类似，但会把结果保存成指定的列表文件；
-fstype<文件系统类型>: 只寻找该文件系统类型下的文件或目录；
-gid<群组识别码>: 查找符合指定之群组识别码的文件或目录；
-group<群组名称>: 查找符合指定之群组名称的文件或目录；
-help或——help: 在线帮助；
-ilname<范本样式>: 此参数的效果和指定“-lname”参数类似，但忽略字符大小写的差别；
-iname<范本样式>: 此参数的效果和指定“-name”参数类似，但忽略字符大小写的差别；
-inum<inode编号>: 查找符合指定的inode编号的文件或目录；
-ipath<范本样式>: 此参数的效果和指定“-path”参数类似，但忽略字符大小写的差别；
-iregex<范本样式>: 此参数的效果和指定“-regexe”参数类似，但忽略字符大小写的差别；
-links<连接数目>: 查找符合指定的硬连接数目的文件或目录；
-iname<范本样式>: 指定字符串作为寻找符号连接的范本样式；
-ls: 假设find指令的回传值为Ture，就将文件或目录名称列出到标准输出；
-maxdepth<目录层级>: 设置最大目录层级；
-mindepth<目录层级>: 设置最小目录层级；
-mmin<分钟>: 查找在指定时间曾被更改过的文件或目录，单位以分钟计算；
-mount: 此参数的效果和指定“-xdev”相同；
-mtime<24小时数>: 查找在指定时间曾被更改过的文件或目录，单位以24小时计算；
-name<范本样式>: 指定字符串作为寻找文件或目录的范本样式；
-newer<参考文件或目录>: 查找其更改时间较指定文件或目录的更改时间更接近现在的文件或目录；
-nogroup: 找出不属于本地主机群组识别码的文件或目录；
-noleaf: 不去考虑目录至少需拥有两个硬连接存在；
-nouser: 找出不属于本地主机用户识别码的文件或目录；
-ok<执行指令>: 此参数的效果和指定“-exec”类似，但在执行指令之前会先询问用户，若回答“y”或“Y”，则放弃执行命令；
-path<范本样式>: 指定字符串作为寻找目录的范本样式；
-perm<权限数值>: 查找符合指定的权限数值的文件或目录；
-print: 假设find指令的回传值为Ture，就将文件或目录名称列出到标准输出。格式为每列一个名称，每个名称前皆有“./”字符串；
-print0: 假设find指令的回传值为Ture，就将文件或目录名称列出到标准输出。格式为全部的名称皆在同一行；
-printf<输出格式>: 假设find指令的回传值为Ture，就将文件或目录名称列出到标准输出。格式可以自行指定；
-prune: 不寻找字符串作为寻找文件或目录的范本样式;
-regex<范本样式>: 指定字符串作为寻找文件或目录的范本样式；
-size<文件大小>: 查找符合指定的文件大小的文件；
-true: 将find指令的回传值皆设为True；
-type<文件类型>: 只寻找符合指定的文件类型的文件；
-uid<用户识别码>: 查找符合指定的用户识别码的文件或目录；
-used<日数>: 查找文件或目录被更改之后在指定时间曾被存取过的文件或目录，单位以日计算；
-user<拥有者名称>: 查找符和指定的拥有者名称的文件或目录；
-version或——version: 显示版本信息；
-xdev: 将范围局限在先行的文件系统中；
-xtype<文件类型>: 此参数的效果和指定“-type”参数类似，差别在于它针对符号连接检查。
```

### `wc` 命令

含义: 统计文件中字符数量

格式: `wc [选项] 文件名`

选项:

```bash
-c 统计字节数 
-l 统计行数
-m 统计字符数这个标志不能与 -c 标志一起使用
-w 统计字数。PS:一个字被定义为由空白、跳格或换行字符分隔的字符串。
-L 打印最长行的长度。
—help 显示帮助信息
—version 显示版本信息
```



## 其它

### `xargs` 命令

含义: 读取输入数据重新格式化后输出, 可以用来给其他命令传递参数

格式: `其它命令 | xargs 其它命令`

选项: 

```bash
默认: echo，空格是默认定界符, xargs 会将换行和空白用空格取代
-0: 接受以null而非空格间隔的输入流
-a: file 从文件中读入作为sdtin
-e: flag ，注意有的时候可能会是-E，flag必须是一个以空格分隔的标志，当xargs分析到含有flag这个标志的时候就停止。
-p: 当每次执行一个argument的时候询问一次用户。
-n: num 后面加次数，表示命令在执行的时候一次用的argument的个数，默认是用所有的。
-t: 表示先打印命令，然后再执行。
-i: 或者是-I，这得看linux支持了，将xargs的每项名称，一般是一行一行赋值给 {}，可以用 {} 代替。
-r: no-run-if-empty 当xargs的输入为空的时候则停止xargs，不用再去执行了。
-s: num 命令行的最大字符数，指的是 xargs 后面那个命令的最大命令行字符数。
-L: num 从标准输入一次读取 num 行送给 command 命令。
-l: 同 -L。
-d: delim 分隔符，默认的xargs分隔符是回车，argument的分隔符是空格，这里修改的是xargs的分隔符。
-x: exit的意思，主要是配合-s使用。。
-P: 修改最大的进程数，默认是1，为0时候为as many as it can ，这个例子我没有想到，应该平时都用不到的吧。
```

### `nohub` 命令

含义: 不挂断的运行其他命令, 注意如果不带 & 后缀, nohub 本身没有在后台运行, 默认输出会被重定向到 `nohup.out ` 文件

格式: `nohup 其他命令 [　& ]`

示例:

```bash
# 将 command 的输出重定向到out.file文件
# 2>&1 是将标准出错重定向到标准输出
nohup command > myout.file 2>&1 &
```





